<div class="container">
  <form [formGroup]="playerForm" (ngSubmit)="submitForm()">
    <span *ngIf="invalidForm" class="errorAlert">REVISAR ERRORES</span>
    <label for="name"
      >Name
      <span *ngIf="submitted && playerForm?.get('name')?.hasError('required')">
        Este campo es requerido
      </span>
      <span *ngIf="submitted && playerForm?.get('name')?.hasError('minlength')">
        Este campo tiene que tener más de 3 caracteres
      </span>
    </label>
    <input type="text" id="name" name="name" formControlName="name" />

    <label for="lastname"
      >Lastname
      <span
        *ngIf="submitted && playerForm?.get('lastname')?.hasError('required')"
      >
        Este campo es requerido
      </span>
      <span
        *ngIf="submitted && playerForm?.get('lastname')?.hasError('minlength')"
      >
        Este campo tiene que tener más de 3 caracteres
      </span>
    </label>
    <input
      type="text"
      id="lastname"
      name="lastname"
      formControlName="lastname"
    />

    <label for="height"
      >Height
      <span
        *ngIf="submitted && playerForm?.get('height')?.hasError('required')"
      >
        Este campo es requerido
      </span>
      <span *ngIf="submitted && playerForm?.get('height')?.hasError('min')">
        Este valor de ser mayor de 120
      </span>
      <span *ngIf="submitted && playerForm?.get('height')?.hasError('max')">
        Este valor de ser menor de 250
      </span>
    </label>
    <input type="number" id="height" name="height" formControlName="height" />

    <label for="alias">Alias</label>
    <input type="text" id="alias" name="alias" formControlName="alias" />

    <label for="dorsal"
      >Dorsal
      <span *ngIf="submitted && playerForm?.get('dorsal')?.hasError('min')">
        Este valor de ser mayor de 0
      </span>
      <span *ngIf="submitted && playerForm?.get('dorsal')?.hasError('max')">
        Este valor de ser menor de 99
      </span>
    </label>
    <input type="number" id="dorsal" name="dorsal" formControlName="dorsal" />

    <label for="age"
      >Age
      <span *ngIf="submitted && playerForm?.get('age')?.hasError('min')">
        Este valor de ser mayor de 18
      </span>
      <span *ngIf="submitted && playerForm?.get('age')?.hasError('max')">
        Este valor de ser menor de 80
      </span>
    </label>
    <input type="number" id="age" name="age" formControlName="age" />

    <label for="team"
      >Team
      <span *ngIf="submitted && playerForm?.get('team')?.hasError('minlength')">
        Este campo tiene que tener más de 3 caracteres
      </span>
    </label>
    <input type="text" id="team" name="team" formControlName="team" />

    <label for="position"
      >Position
      <span
        *ngIf="submitted && playerForm?.get('position')?.hasError('required')"
      >
        Este campo es requerido
      </span>
    </label>
    <select id="position" name="position" formControlName="position">
      <option value="" selected>Pick one</option>
      <option value="Point Guard">Point Guard</option>
      <option value="Point Forward">Point Forward</option>
      <option value="Small Forward">Small Forward</option>
      <option value="Power Forward">Power Forward</option>
      <option value="Center">Center</option>
    </select>

    <label for="image"
      >Image

      <span *ngIf="submitted && sizeImage">
        El archivo no puede ocupar mas de 2 MB
      </span>
      <span *ngIf="submitted && typeImage">
        El archivo tiene que ser una imagen
      </span>
    </label>
    <input
      type="file"
      id="image"
      name="image"
      formControlName="image"
      (change)="handleInputFile($event)"
    />

    <!-- <input type="submit" value="Aceptar" /> -->
    <button>{{ _id ? "Actualizar" : "Crear" }}</button>
  </form>
  <div class="preview">
    <h2>PREVIEW</h2>
    <h5>Name: {{ newPlayer.name }}</h5>
    <h5>Lastname {{ newPlayer.lastname }}</h5>
    <h5>Height: {{ newPlayer.height }}</h5>
    <h5>Alias: {{ newPlayer.alias }}</h5>
    <h5>Dorsal: {{ newPlayer.dorsal }}</h5>
    <h5>Age: {{ newPlayer.age }}</h5>
    <h5>Team: {{ newPlayer.team }}</h5>
    <h5>Position: {{ newPlayer.position }}</h5>
    <h5 class="preview__img">
      Image:
      <img
        src="{{ previewSrc ? previewSrc : newPlayer.image }}"
        alt="imagen de {{ newPlayer.name }}"
      />
    </h5>
  </div>
</div>
